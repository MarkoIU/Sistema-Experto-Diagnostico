<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Asistente de Diagn√≥stico de Hardware</title>
  <link rel="icon" href="Images/PC Troubleshooting.png" type="image/x-icon">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h2>Asistente de Diagn√≥stico de Hardware</h2>

    <div id="question-section">
      <p id="question"></p>
      <p id="hint" class="hint"></p>

      <div class="image-frame">
        <img id="hint-image" src="Images/Start-up.gif" alt="Imagen de pista">
      </div>

      <button onclick="answer('yes')">S√≠</button>
      <button onclick="answer('no')">No</button>
      <button onclick="showWhy()">¬øPor qu√©?</button>

      <div id="explanation-box" style="display: none; margin-top: 20px;">
        <div class="solution-container">
          <h3>Explicaci√≥n</h3>
          <p id="explanation-text"></p>
          <button onclick="closeExplanation()">Cerrar</button>
        </div>
      </div>
    </div>

   <div id="result-section" style="display: none;">
      <div class="solution-container">
        <h3>Acci√≥n Recomendada</h3>
        <p id="recommendation"></p>
      </div>
      
      <div class="image-frame">
        <img id="result-image" src="" alt="Imagen del resultado" style="display: none;">
      </div>
 
      <div class="conclusion-container">
        <h3>Conclusi√≥n</h3>
        <p id="conclusion"></p>
      </div>

      <button onclick="showHow()">¬øC√≥mo?</button>
      
      <div id="how-section" class="conclusion-container" style="display: none;">
        <h3>C√≥mo se Concluy√≥</h3>
        <p id="how-text"></p>
      </div>

      <button onclick="location.reload()">Reiniciar</button>
    </div>

    <a href="troubleshoot.html" class="back-button">‚Üê Volver</a>
  </div>

  <script>
    const questions = [
      {
        q: "¬øVes alguna luz indicadora de encendido en tu PC o escuchas el ventilador de la placa base girar al presionar el bot√≥n de encendido?",
        hint: "üí° Verifica las luces LED y la actividad del ventilador de la placa base despu√©s de presionar el bot√≥n de encendido.",
        yes: "Procede al diagn√≥stico de pantalla",
        image: "Images/Start-up.gif",
        no: {
          rec: "Verifica el estado f√≠sico de la Fuente de Alimentaci√≥n (PSU).",
          con: "La PC no enciende",
          how: "Porque respondiste 'No' y no hay indicios de energ√≠a, el sistema concluye que la PC no est√° encendiendo y sospecha de una falla de hardware.",
        },
        why: "Para determinar si el sistema recibe energ√≠a en absoluto."
      },
      {
        q: "¬øEl ventilador de la Fuente de Alimentaci√≥n (PSU) gira durante la prueba del clip?",
        hint: "üí° Puentea los pines verde y negro con un clip y revisa el ventilador de la fuente de alimentaci√≥n (PSU).",
        yes: "Verifica la salida de video integrada y de la GPU",
        image: "Images/PaperClipTest.gif",
        no: {
          rec: "Reemplaza la Fuente de Alimentaci√≥n (PSU).",
          con: "La Fuente de Alimentaci√≥n (PSU) ha fallado, lo que significa que est√° defectuosa.",
          resultImage: "Images/replacePSU.jpg",
          how: "Respondiste 'No', lo que indica que la fuente fall√≥ en ambas pruebas, por lo tanto se concluye que est√° defectuosa y debe reemplazarse.",
        },
        why: "Para verificar si la Fuente de Alimentaci√≥n (PSU) est√° funcionando."
      },
      {
        q: "¬øEl ventilador de la PSU gira pero no hay salida de video?",
        hint: "üí° Confirma que el ventilador se mueva pero no haya imagen tras conectar la PSU a la placa base.",
        yes: "Verifica la salida de video integrada",
        image: "Images/noDisplay.jpg",
        no: {
          rec: "Inspecciona la placa base por da√±os o cortos.",
          con: "Una placa base da√±ada o en corto puede causar el problema de video aunque la PSU funcione.",
          resultImage: "Images/damagedMotherboard.jpg",
          how: "Respondiste 'No', indicando que la fuente funciona pero no hay imagen, as√≠ que el sistema sospecha de fallas en la placa base."
        },
        why: "Para ver si el sistema arranca sin salida de video, lo que indicar√≠a un problema en el trayecto de imagen."
      },
      {
        q: "¬øEl sistema da salida de video cuando se retira la GPU?",
        hint: "üí° Retira la GPU y conecta el monitor al puerto de video de la placa base.",
        image: "Images/removeGPU.jpg",
        yes: {
          rec: "Reemplaza la Tarjeta Gr√°fica (GPU).",
          con: "La salida de video integrada funciona",
          how: "Respondiste 'S√≠', confirmando que la salida integrada funciona al retirar la GPU, lo que indica que la GPU est√° defectuosa."
        },
        no: "Verifica monitor y cables",
        why: "Para comprobar si la salida integrada funciona sin la GPU."
      },
      {
        q: "¬øEst√° encendida la luz de encendido del monitor?",
        hint: "üí° Revisa si la luz de encendido del monitor est√° iluminada.",
        yes: "Verifica el cable y la fuente de entrada",
        image: "Images/monitorLED.png",
        no: {
          rec: "Verifica la alimentaci√≥n del monitor y las conexiones de los cables.",
          con: "El monitor no tiene energ√≠a",
          how: "Tu respuesta 'No' indica que el monitor no tiene energ√≠a, por lo que el sistema sospecha de una falla en el monitor o el cable."
        },
        why: "Para asegurarse de que el monitor se encienda."
      },
      {
        q: "¬øEst√° conectado correctamente el cable de video y seleccionada la fuente de entrada adecuada?",
        hint: "üí° Revisa ambos extremos del cable y la configuraci√≥n de entrada del monitor para asegurar la fuente correcta.",
        yes: "Verifica conexi√≥n de la GPU",
        image: "Images/monitorInput.gif",
        no: {
          rec: "Reconecta el cable y selecciona la fuente de entrada correcta.",
          con: "Entrada incorrecta o cable flojo",
          resultImage: "Images/reconnectHDMI.jpg",
          how: "Debido a que el cable estaba suelto o la fuente incorrecta, el sistema concluye que eso caus√≥ el problema de 'sin se√±al'."
        },
        why: "Para confirmar que el monitor est√° configurado correctamente para recibir se√±al."
      },
      {
        q: "¬øEl monitor muestra 'Sin se√±al' al conectarlo a otra PC?",
        hint: "üí° Prueba el monitor en otra computadora que funcione.",
        yes: {
          rec: "Reemplaza el monitor.",
          con: "El monitor est√° defectuoso",
          how: "Como el monitor muestra 'Sin se√±al' en otra PC, el sistema determina que el monitor est√° defectuoso."
        },
        no: "Verifica el asiento de la GPU",
        why: "Para descartar si el problema es del monitor."
      },
      {
        q: "¬øEst√° correctamente asentada la GPU y conectada con su cable de alimentaci√≥n PCIe?",
        hint: "üí° Aseg√∫rate de que la GPU est√© completamente insertada en su ranura y que el cable de alimentaci√≥n est√© conectado.",
        yes: "Escucha c√≥digo de pitidos",
        no: {
          rec: "Reasienta la GPU y reconecta el cable de alimentaci√≥n.",
          con: "La GPU no est√° bien conectada",
          how: "Tu respuesta 'No' indica que la GPU no est√° asentada o alimentada, lo que puede impedir la salida de video."
        },
        why: "Para comprobar si hay problemas f√≠sicos con la GPU que impidan la salida de video."
      },
      {
        q: "¬øEscuchas alg√∫n c√≥digo de pitidos al encender?",
        hint: "üí° Los c√≥digos de pitidos pueden indicar fallas de RAM, CPU o GPU. Consulta el manual de la BIOS.",
        yes: {
          rec: "Consulta el manual de tu placa base para interpretar el c√≥digo de pitidos.",
          con: "C√≥digo de pitidos detectado",
          how: "Respondiste 'S√≠', confirmando que se escucha una secuencia de pitidos, as√≠ que el sistema te refiere a la documentaci√≥n de la BIOS."
        },
        no: {
          rec: "Inspecciona la placa base por da√±os visibles.",
          con: "Sin pitidos y sin imagen",
          how: "Respondiste 'No', lo que indica que no hay respuesta POST. El sistema sospecha de falla en la placa base o falta de arranque."
        },
        why: "Para determinar si el POST (autoprueba de encendido) detecta problemas de hardware."
      }
    ];

    let step = 0;

    function answer(response) {
      const question = questions[step];
      const recommendation = document.getElementById('recommendation');
      const conclusion = document.getElementById('conclusion');
      const howText = document.getElementById('how-text');

      if (typeof question[response] === 'object') {
        recommendation.textContent = question[response].rec;
        conclusion.textContent = question[response].con;
        howText.textContent = question[response].how || '';
        
        document.getElementById('how-section').style.display = 'none';

        const resultImage = document.getElementById('result-image');
        if (question[response].resultImage) {
          resultImage.src = question[response].resultImage;
          resultImage.style.display = 'block';
        } else {
          resultImage.style.display = 'none';
        }

        document.getElementById('question-section').style.display = 'none';
        document.getElementById('result-section').style.display = 'block';
      } else if (typeof question[response] === 'string') {
        step++;
        updateQuestion();
      }
    }

    function updateQuestion() {
      const q = questions[step];
      document.getElementById('question').textContent = q.q;
      document.getElementById('hint').textContent = q.hint || '';
      document.getElementById('hint-image').src = q.image || '';
      document.getElementById('hint-image').alt = `Paso ${step + 1}`;
    }

    function showWhy() {
      const explanationText = document.getElementById('explanation-text');
      explanationText.textContent = questions[step].why || "Sin explicaci√≥n disponible.";
      document.getElementById('explanation-box').style.display = 'block';
    }

    function showHow() {
      document.getElementById('how-section').style.display = 'block';
    }

    function closeExplanation() {
      document.getElementById('explanation-box').style.display = 'none';
    }

    window.onload = updateQuestion;
  </script>
</body>
</html>
